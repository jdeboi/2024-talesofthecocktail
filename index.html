<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Socket Trigger</title>
  </head>
  <body>
    <button id="startButton">Start Visuals</button>

    <script
      src="https://cdn.socket.io/4.7.5/socket.io.min.js"
      integrity="sha384-2huaZvOR9iDzHqslqwpR87isEmrfxqyWOF7hr7BY6KG0+hVKLoEXMPUJw3ynWuhO"
      crossorigin="anonymous"
    ></script>
    <script>
      const socket = io("https://p5-cocktales.vercel.app/", {
        withCredentials: true,
        transports: ["polling", "websocket"],
      });

      // const socket = io("http://localhost:3000/", {
      //   transports: ["websocket"],
      // });

      socket.on("connect", () => {
        console.log("Connected to server");
      });

      socket.on("connect_error", (error) => {
        console.error("Connection error:", error);
      });

      document.getElementById("startButton").addEventListener("click", () => {
        socket.emit("start");
        console.log("Start command sent!");
      });
    </script>
  </body>
</html>
